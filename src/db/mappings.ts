import { CMangos, SpellEditor } from './schemas';

export const dbMappings = {
  spell_template: {
    "Id": "ID",
    "Category": "Category",
    "Dispel": "Dispel",
    "Mechanic": "Mechanic",
    "Attributes": "Attributes",
    "AttributesEx": "AttributesEx",
    "AttributesEx2": "AttributesEx2",
    "AttributesEx3": "AttributesEx3",
    "AttributesEx4": "AttributesEx4",
    "AttributesEx5": "AttributesEx5",
    "AttributesEx6": "AttributesEx6",
    "AttributesEx7": "AttributesEx7",
    "Stances": "Stances",
    "Stances2": "Unknown1",
    "StancesNot": "StancesNot",
    "StancesNot2": "Unknown2",
    "Targets": "Targets",
    "TargetCreatureType": "TargetCreatureType",
    "RequiresSpellFocus": "RequiresSpellFocus",
    "FacingCasterFlags": "FacingCasterFlags",
    "CasterAuraState": "CasterAuraState",
    "TargetAuraState": "TargetAuraState",
    "CasterAuraStateNot": "CasterAuraStateNot",
    "TargetAuraStateNot": "TargetAuraStateNot",
    "CasterAuraSpell": "CasterAuraSpell",
    "TargetAuraSpell": "TargetAuraSpell",
    "ExcludeCasterAuraSpell": "ExcludeCasterAuraSpell",
    "ExcludeTargetAuraSpell": "ExcludeTargetAuraSpell",
    "CastingTimeIndex": "CastingTimeIndex",
    "RecoveryTime": "RecoveryTime",
    "CategoryRecoveryTime": "CategoryRecoveryTime",
    "InterruptFlags": "InterruptFlags",
    "AuraInterruptFlags": "AuraInterruptFlags",
    "ChannelInterruptFlags": "ChannelInterruptFlags",
    "ProcFlags": "ProcFlags",
    "ProcChance": "ProcChance",
    "ProcCharges": "ProcCharges",
    "MaxLevel": "MaximumLevel",
    "BaseLevel": "BaseLevel",
    "SpellLevel": "SpellLevel",
    "DurationIndex": "DurationIndex",
    "PowerType": "PowerType",
    "ManaCost": "ManaCost",
    "ManaCostPerlevel": "ManaCostPerLevel",
    "ManaPerSecond": "ManaPerSecond",
    "ManaPerSecondPerLevel": "ManaPerSecondPerLevel",
    "RangeIndex": "RangeIndex",
    "Speed": "Speed",
    "ModalNextSpell": "ModalNextSpell",
    "StackAmount": "StackAmount",
    "Totem1": "Totem1",
    "Totem2": "Totem2",
    "Reagent1": "Reagent1",
    "Reagent2": "Reagent2",
    "Reagent3": "Reagent3",
    "Reagent4": "Reagent4",
    "Reagent5": "Reagent5",
    "Reagent6": "Reagent6",
    "Reagent7": "Reagent7",
    "Reagent8": "Reagent8",
    "ReagentCount1": "ReagentCount1",
    "ReagentCount2": "ReagentCount2",
    "ReagentCount3": "ReagentCount3",
    "ReagentCount4": "ReagentCount4",
    "ReagentCount5": "ReagentCount5",
    "ReagentCount6": "ReagentCount6",
    "ReagentCount7": "ReagentCount7",
    "ReagentCount8": "ReagentCount8",
    "EquippedItemClass": "EquippedItemClass",
    "EquippedItemSubClassMask": "EquippedItemSubClassMask",
    "EquippedItemInventoryTypeMask": "EquippedItemInventoryTypeMask",
    "Effect1": "Effect1",
    "Effect2": "Effect2",
    "Effect3": "Effect3",
    "EffectDieSides1": "EffectDieSides1",
    "EffectDieSides2": "EffectDieSides2",
    "EffectDieSides3": "EffectDieSides3",
    "EffectRealPointsPerLevel1": "EffectRealPointsPerLevel1",
    "EffectRealPointsPerLevel2": "EffectRealPointsPerLevel2",
    "EffectRealPointsPerLevel3": "EffectRealPointsPerLevel3",
    "EffectBasePoints1": "EffectBasePoints1",
    "EffectBasePoints2": "EffectBasePoints2",
    "EffectBasePoints3": "EffectBasePoints3",
    "EffectMechanic1": "EffectMechanic1",
    "EffectMechanic2": "EffectMechanic2",
    "EffectMechanic3": "EffectMechanic3",
    "EffectImplicitTargetA1": "EffectImplicitTargetA1",
    "EffectImplicitTargetA2": "EffectImplicitTargetA2",
    "EffectImplicitTargetA3": "EffectImplicitTargetA3",
    "EffectImplicitTargetB1": "EffectImplicitTargetB1",
    "EffectImplicitTargetB2": "EffectImplicitTargetB2",
    "EffectImplicitTargetB3": "EffectImplicitTargetB3",
    "EffectRadiusIndex1": "EffectRadiusIndex1",
    "EffectRadiusIndex2": "EffectRadiusIndex2",
    "EffectRadiusIndex3": "EffectRadiusIndex3",
    "EffectApplyAuraName1": "EffectApplyAuraName1",
    "EffectApplyAuraName2": "EffectApplyAuraName2",
    "EffectApplyAuraName3": "EffectApplyAuraName3",
    "EffectAmplitude1": "EffectAmplitude1",
    "EffectAmplitude2": "EffectAmplitude2",
    "EffectAmplitude3": "EffectAmplitude3",
    "EffectMultipleValue1": "EffectMultipleValue1",
    "EffectMultipleValue2": "EffectMultipleValue2",
    "EffectMultipleValue3": "EffectMultipleValue3",
    "EffectChainTarget1": "EffectChainTarget1",
    "EffectChainTarget2": "EffectChainTarget2",
    "EffectChainTarget3": "EffectChainTarget3",
    "EffectItemType1": "EffectItemType1",
    "EffectItemType2": "EffectItemType2",
    "EffectItemType3": "EffectItemType3",
    "EffectMiscValue1": "EffectMiscValue1",
    "EffectMiscValue2": "EffectMiscValue2",
    "EffectMiscValue3": "EffectMiscValue3",
    "EffectMiscValueB1": "EffectMiscValueB1",
    "EffectMiscValueB2": "EffectMiscValueB2",
    "EffectMiscValueB3": "EffectMiscValueB3",
    "EffectTriggerSpell1": "EffectTriggerSpell1",
    "EffectTriggerSpell2": "EffectTriggerSpell2",
    "EffectTriggerSpell3": "EffectTriggerSpell3",
    "EffectPointsPerComboPoint1": "EffectPointsPerComboPoint1",
    "EffectPointsPerComboPoint2": "EffectPointsPerComboPoint2",
    "EffectPointsPerComboPoint3": "EffectPointsPerComboPoint3",
    "EffectSpellClassMask1_1": "EffectSpellClassMaskA1",
    "EffectSpellClassMask1_2": "EffectSpellClassMaskA2",
    "EffectSpellClassMask1_3": "EffectSpellClassMaskA3",
    "EffectSpellClassMask2_1": "EffectSpellClassMaskB1",
    "EffectSpellClassMask2_2": "EffectSpellClassMaskB2",
    "EffectSpellClassMask2_3": "EffectSpellClassMaskB3",
    "EffectSpellClassMask3_1": "EffectSpellClassMaskC1",
    "EffectSpellClassMask3_2": "EffectSpellClassMaskC2",
    "EffectSpellClassMask3_3": "EffectSpellClassMaskC3",
    "SpellVisual": "SpellVisual1",
    "SpellVisual2": "SpellVisual2",
    "SpellIconID": "SpellIconID",
    "ActiveIconID": "ActiveIconID",
    "SpellPriority": "SpellPriority",
    "SpellName": "SpellName0",
    "SpellName2": "SpellName1",
    "SpellName3": "SpellName2",
    "SpellName4": "SpellName3",
    "SpellName5": "SpellName4",
    "SpellName6": "SpellName5",
    "SpellName7": "SpellName6",
    "SpellName8": "SpellName7",
    "SpellName9": "SpellName8",
    "SpellName10": null,
    "SpellName11": null,
    "SpellName12": null,
    "SpellName13": null,
    "SpellName14": null,
    "SpellName15": null,
    "SpellName16": null,
    "Rank1": "SpellRank0",
    "Rank2": "SpellRank1",
    "Rank3": "SpellRank2",
    "Rank4": "SpellRank3",
    "Rank5": "SpellRank4",
    "Rank6": "SpellRank5",
    "Rank7": "SpellRank6",
    "Rank8": "SpellRank7",
    "Rank9": "SpellRank8",
    "Rank10": null,
    "Rank11": null,
    "Rank12": null,
    "Rank13": null,
    "Rank14": null,
    "Rank15": null,
    "Rank16": null,
    "ManaCostPercentage": "ManaCostPercentage",
    "StartRecoveryCategory": "StartRecoveryCategory",
    "StartRecoveryTime": "StartRecoveryTime",
    "MaxTargetLevel": "MaximumTargetLevel",
    "SpellFamilyName": "SpellFamilyName",
    "SpellFamilyFlags": {
      value: (entry) => {
        const flags = Number(entry.SpellFamilyFlags)
        const flags1 = Number(entry.SpellFamilyFlags1)
        const combined = BigInt(flags >>> 0) | (BigInt(flags1 >>> 0) << 32n);

        return combined.toString();
      }
    },
    "SpellFamilyFlags2": "SpellFamilyFlags2",
    "MaxAffectedTargets": "MaximumAffectedTargets",
    "DmgClass": "DamageClass",
    "PreventionType": "PreventionType",
    "StanceBarOrder": "StanceBarOrder",
    "DmgMultiplier1": "EffectDamageMultiplier1",
    "DmgMultiplier2": "EffectDamageMultiplier2",
    "DmgMultiplier3": "EffectDamageMultiplier3",
    "MinFactionId": "MinimumFactionId",
    "MinReputation": "MinimumReputation",
    "RequiredAuraVision": "RequiredAuraVision",
    "TotemCategory1": "TotemCategory1",
    "TotemCategory2": "TotemCategory2",
    "AreaId": "AreaGroupID",
    "SchoolMask": "SchoolMask",
    "RuneCostID": "RuneCostID",
    "SpellMissileID": "SpellMissileID",
    "PowerDisplayId": "PowerDisplayId",
    "EffectBonusCoefficient1": "EffectBonusMultiplier1",
    "EffectBonusCoefficient2": "EffectBonusMultiplier2",
    "EffectBonusCoefficient3": "EffectBonusMultiplier3",
    "EffectBonusCoefficientFromAP1": null,
    "EffectBonusCoefficientFromAP2": null,
    "EffectBonusCoefficientFromAP3": null,
    "SpellDescriptionVariableID": "SpellDescriptionVariableID",
    "SpellDifficultyId": "SpellDifficultyID",
    "IsServerSide": null,
    "AttributesServerside": null,
  } satisfies DBMapping<CMangos.SpellTemplate, SpellEditor.Spell>
} satisfies Record<TableName, DBMapping>

type TableName = string;
type ColumnName = string;
export type DBMapping<
  TTo extends Record<ColumnName, any> = Record<ColumnName, any>,
  TFrom extends Record<ColumnName, any> = Record<ColumnName, any>
> = Record<keyof TTo, keyof TFrom | null | { value: (entry: TFrom) => any }>;
